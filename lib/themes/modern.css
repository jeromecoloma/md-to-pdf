/* Modern Theme - Contemporary, stylish design with enhanced readability */

/* Import system emoji fonts for better rendering */
@font-face {
    font-family: 'Emoji';
    src: local('Apple Color Emoji'), local('Segoe UI Emoji'), local('Noto Color Emoji'),
         local('Android Emoji'), local('EmojiSymbols'), local('Symbola');
}

@page {
    margin: 0.75in;
    size: A4;
}

body {
    font-family: "Segoe UI", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 14px;
    line-height: 1.7;
    color: #2c3e50;
    background-color: #ffffff;
    margin: 0;
    padding: 40px;
    max-width: none;
}

h1, h2, h3, h4, h5, h6 {
    font-weight: 300;
    color: #34495e;
    margin-top: 2em;
    margin-bottom: 0.8em;
    line-height: 1.3;
    letter-spacing: -0.02em;
}

h1 {
    font-size: 2.5em;
    font-weight: 200;
    text-align: center;
    margin-top: 0;
    margin-bottom: 1.5em;
    color: #2c3e50;
    border-bottom: none;
    position: relative;
}

h1::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 3px;
    background: linear-gradient(90deg, #3498db, #2ecc71);
    border-radius: 2px;
}

h2 {
    font-size: 1.8em;
    color: #3498db;
    border-bottom: 2px solid #ecf0f1;
    padding-bottom: 0.5em;
    margin-bottom: 1.2em;
}

h3 {
    font-size: 1.4em;
    color: #2ecc71;
}

h4 {
    font-size: 1.2em;
    color: #e74c3c;
}

h5, h6 {
    font-size: 1.1em;
    color: #9b59b6;
    font-style: italic;
}

p {
    margin-top: 0;
    margin-bottom: 1.5em;
    color: #34495e;
}

a {
    color: #3498db;
    text-decoration: none;
    transition: all 0.3s ease;
    border-bottom: 1px solid transparent;
}

a:hover {
    color: #2980b9;
    border-bottom-color: #3498db;
}

strong, b {
    font-weight: 600;
    color: #2c3e50;
}

em, i {
    font-style: italic;
    color: #7f8c8d;
}

code {
    font-family: "Monaco", "Menlo", "Consolas", "Courier New", monospace;
    font-size: 13px;
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    padding: 3px 8px;
    color: #c0392b;
}

pre {
    font-family: "Monaco", "Menlo", "Consolas", "Courier New", monospace;
    font-size: 13px;
    background: #f8f9fa;
    color: #2c3e50;
    border-radius: 8px;
    padding: 20px;
    margin: 1.5em 0;
    line-height: 1.5;
    border: 1px solid #dee2e6;
}

pre code {
    background-color: transparent !important;
    border: none !important;
    padding: 0 !important;
    color: #2c3e50 !important;
}

blockquote {
    margin: 2em 0;
    padding: 1.5em 2em;
    border-left: 4px solid #3498db;
    background: linear-gradient(135deg, #ecf0f1 0%, #f8f9fa 100%);
    border-radius: 0 8px 8px 0;
    color: #5d6d7e;
    font-style: italic;
    position: relative;
}

blockquote::before {
    content: '"';
    font-size: 4em;
    color: #bdc3c7;
    position: absolute;
    top: -10px;
    left: 10px;
    line-height: 1;
}

ul, ol {
    margin-top: 0;
    margin-bottom: 1.5em;
    padding-left: 2em;
}

li {
    margin-bottom: 0.8em;
    color: #34495e;
}

table {
    border-collapse: collapse;
    width: 100%;
    margin: 2em 0;
    font-size: 14px;
    border-radius: 8px;
}

table th, table td {
    border: 1px solid #ecf0f1;
    padding: 12px 16px;
    text-align: left;
}

table th {
    background: #3498db;
    color: white;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 12px;
    letter-spacing: 0.5px;
}

table tr:nth-child(even) {
    background-color: #f8f9fa;
}

table tr:hover {
    background-color: #e8f4fd;
    transition: background-color 0.3s ease;
}

hr {
    border: none;
    height: 2px;
    background: linear-gradient(90deg, #3498db, #2ecc71, #e74c3c);
    margin: 3em 0;
    border-radius: 1px;
}

img {
    max-width: 100%;
    height: auto;
    margin: 2em 0;
    border-radius: 8px;
}

/* Custom classes */
.highlight {
    background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
    border-left: 4px solid #f39c12;
    padding: 1em 1.5em;
    margin: 1.5em 0;
    border-radius: 0 8px 8px 0;
}

.note {
    background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
    border-left: 4px solid #28a745;
    padding: 1em 1.5em;
    margin: 1.5em 0;
    border-radius: 0 8px 8px 0;
}

.warning {
    background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
    border-left: 4px solid #dc3545;
    padding: 1em 1.5em;
    margin: 1.5em 0;
    border-radius: 0 8px 8px 0;
}

/* Enhanced code block styling for pandoc syntax highlighting - WeasyPrint compatible */
div.sourceCode {
    background: transparent;
    border-radius: 8px;
    margin: 1.5em 0;
}

.sourceCode pre {
    background: #f8f9fa !important;
    color: #2c3e50 !important;
    border: 1px solid #dee2e6 !important;
    margin: 0 !important;
    padding: 20px !important;
    border-radius: 8px;
}

.sourceCode pre code {
    background-color: transparent !important;
    border: none !important;
    padding: 0 !important;
    color: inherit !important;
}

/* Syntax highlighting colors for better contrast on light background */
.sourceCode .kw { color: #3498db; font-weight: bold; } /* Keywords */
.sourceCode .dt { color: #e74c3c; } /* Data types */
.sourceCode .dv { color: #27ae60; } /* Decimal values */
.sourceCode .bn { color: #27ae60; } /* Base N integers */
.sourceCode .fl { color: #27ae60; } /* Floats */
.sourceCode .ch { color: #e67e22; } /* Characters */
.sourceCode .st { color: #e67e22; } /* Strings */
.sourceCode .co { color: #95a5a6; font-style: italic; } /* Comments */
.sourceCode .ot { color: #9b59b6; } /* Other tokens */
.sourceCode .al { color: #e74c3c; font-weight: bold; } /* Alerts */
.sourceCode .fu { color: #8e44ad; } /* Functions */
.sourceCode .er { color: #e74c3c; font-weight: bold; } /* Errors */
.sourceCode .wa { color: #f39c12; font-weight: bold; } /* Warnings */
.sourceCode .cn { color: #27ae60; } /* Constants */
.sourceCode .sc { color: #e67e22; } /* Special characters */
.sourceCode .vs { color: #e67e22; } /* Verbatim strings */
.sourceCode .ss { color: #e67e22; } /* Special strings */
.sourceCode .im { color: #9b59b6; } /* Imports */
.sourceCode .va { color: #34495e; } /* Variables */
.sourceCode .cf { color: #3498db; font-weight: bold; } /* Control flow */
.sourceCode .op { color: #34495e; } /* Operators */
.sourceCode .bu { color: #8e44ad; } /* Built-ins */
.sourceCode .ex { color: #8e44ad; } /* Extensions */
.sourceCode .pp { color: #9b59b6; } /* Preprocessor */
.sourceCode .at { color: #f39c12; } /* Attributes */
.sourceCode .do { color: #95a5a6; font-style: italic; } /* Documentation */
.sourceCode .an { color: #95a5a6; font-style: italic; } /* Annotations */
.sourceCode .cv { color: #95a5a6; font-style: italic; } /* Comments */
.sourceCode .in { color: #95a5a6; font-style: italic; } /* Information */

/* Ensure all code elements have proper readability */
code.sourceCode {
    background-color: transparent !important;
    border: none !important;
    padding: 0 !important;
    color: #2c3e50 !important;
}

/* Force readable colors for any missed elements */
.sourceCode span {
    color: #2c3e50;
}

.sourceCode span[class] {
    /* Let the specific classes above override */
}

/* Enhanced emoji support - more conservative approach */
.emoji,
span[class*="emoji"],
[data-emoji] {
    font-family: "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif;
    font-size: 1.1em;
    vertical-align: -0.05em;
}

/* Remove the global emoji setting that was causing font issues */

/* Task lists */
.task-list-item {
    list-style-type: none;
}

.task-list-item input {
    margin: 0 0.2em 0.25em -1.6em;
    vertical-align: middle;
}

/* Better spacing for task lists */
ul.task-list {
    padding-left: 1.5em;
}

ul.task-list li {
    margin-bottom: 0.5em;
}

/* Ensure high contrast for all text elements */
.sourceCode,
pre,
code {
    color: #2c3e50 !important;
}

/* Override any inherited colors that might cause readability issues */
div.sourceCode *,
pre *,
code * {
    color: inherit;
}

/* Specific fixes for syntax highlighting spans */
.sourceCode span:not([class]) {
    color: #2c3e50 !important;
}

/* Prevent empty elements from showing backgrounds */
.sourceCode:empty,
.sourceCode pre:empty,
.sourceCode code:empty {
    display: none;
}

/* Hide empty code blocks */
div.sourceCode:empty {
    margin: 0;
    height: 0;
    overflow: hidden;
}

/* Ensure minimal height for empty pre elements */
pre:empty {
    display: none;
}

/* Simpler fix: remove backgrounds from ALL spans in code blocks */
.sourceCode span {
    background: none !important;
    background-color: transparent !important;
}

/* Keep only the syntax highlighting colors we defined earlier */
.sourceCode .kw,
.sourceCode .dt,
.sourceCode .dv,
.sourceCode .bn,
.sourceCode .fl,
.sourceCode .ch,
.sourceCode .st,
.sourceCode .co,
.sourceCode .ot,
.sourceCode .al,
.sourceCode .fu,
.sourceCode .er,
.sourceCode .wa,
.sourceCode .cn,
.sourceCode .sc,
.sourceCode .vs,
.sourceCode .ss,
.sourceCode .im,
.sourceCode .va,
.sourceCode .cf,
.sourceCode .op,
.sourceCode .bu,
.sourceCode .ex,
.sourceCode .pp,
.sourceCode .at,
.sourceCode .do,
.sourceCode .an,
.sourceCode .cv,
.sourceCode .in {
    background: transparent !important;
}

/* Hide line number anchors but keep the text flow normal */
.sourceCode a[aria-hidden="true"] {
    visibility: hidden;
    width: 0;
    height: 0;
    margin: 0;
    padding: 0;
}